<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Read Inventory Item</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="read-container">
    <h1>Retrieve Inventory Item</h1>

    <div class="form-section">
      <input type="number" id="item-id" placeholder="Enter Item ID..." />
      <button id="retrieve-button">Retrieve</button>
    </div>

    <div id="item-details">
      <h2>Item Details</h2>
      <label>Name: <input type="text" id="item-name" readonly /></label>
      <label>Product ID: <input type="text" id="item-product-id" readonly /></label>
      <label>Quantity: <input type="text" id="item-quantity" readonly /></label>
      <label>Condition: <input type="text" id="item-condition" readonly /></label>
      <label>Restock Level: <input type="text" id="item-restock-level" readonly /></label>
    </div>
  </div>

  <script>
    document.getElementById("retrieve-button").addEventListener("click", function () {
      const itemId = document.getElementById("item-id").value.trim();

      if (!itemId) {
        alert("Please enter an item ID.");
        return;
      }

      fetch(`/api/inventory/${itemId}`)
        .then((res) => {
          if (!res.ok) throw new Error("Item not found.");
          return res.json();
        })
        .then((data) => {
          document.getElementById("item-details").style.display = "block";
          document.getElementById("item-name").value = data.name || "";
          document.getElementById("item-product-id").value = data.product_id || "";
          document.getElementById("item-quantity").value = data.quantity || "";
          document.getElementById("item-condition").value = data.condition || "";
          document.getElementById("item-restock-level").value = data.restock_level || "";
        })
        .catch((err) => {
          alert(err.message);
          document.getElementById("item-details").style.display = "none";
        });
    });
  </script>
</body>
</html>
